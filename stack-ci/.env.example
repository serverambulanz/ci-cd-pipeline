# CI/CD Stack - GitLab CE Edition
# Environment Variables für Woodpecker mit GitLab Integration

# =============================================
# Woodpecker Secrets
# =============================================
# Agent Secret für Woodpecker Server<->Agent Kommunikation
# Generiere mit: openssl rand -hex 32
WOODPECKER_AGENT_SECRET=dein-woodpecker-agent-secret-hier

# =============================================
# GitLab OAuth Integration
# =============================================
# Diese Werte bekommst du von GitLab:
# Admin Area → Applications → Woodpecker CI Application
GITLAB_OAUTH_CLIENT_ID=dein-gitlab-oauth-client-id-hier
GITLAB_OAUTH_CLIENT_SECRET=dein-gitlab-oauth-client-secret-hier

# =============================================
# Woodpecker Server Configuration
# =============================================
# Woodpecker Admin User (muss in GitLab existieren)
WOODPECKER_ADMIN=admin

# Woodpecker Settings
WOODPECKER_OPEN=true
WOODPECKER_HOST=http://ci.devops.local
WOODPECKER_LOG_LEVEL=info

# =============================================
# Woodpecker Agent Configuration
# =============================================
# Woodpecker Server Connection
WOODPECKER_SERVER=woodpecker-server:9000

# Performance Settings
WOODPECKER_MAX_WORKFLOWS=4

# Backend für nested Docker
WOODPECKER_BACKEND=docker
WOODPECKER_BACKEND_DOCKER_NETWORK=devops-network

# =============================================
# Rust Cache Settings (optional)
# =============================================
# Cargo Cache für Rust Builds
CARGO_HOME=/root/.cargo
RUSTUP_HOME=/root/.rustup

# =============================================
# Migration Notes
# =============================================
# ALT (Gitea):
# WOODPECKER_GITEA=true
# WOODPECKER_GITEA_URL=http://git.devops.local
# WOODPECKER_GITEA_CLIENT=${GITEA_OAUTH_CLIENT_ID}
# WOODPECKER_GITEA_SECRET=${GITEA_OAUTH_CLIENT_SECRET}

# NEU (GitLab):
# WOODPECKER_GITLAB=true
# WOODPECKER_GITLAB_URL=http://git.devops.local
# WOODPECKER_GITLAB_CLIENT=${GITLAB_OAUTH_CLIENT_ID}
# WOODPECKER_GITLAB_SECRET=${GITLAB_OAUTH_CLIENT_SECRET}